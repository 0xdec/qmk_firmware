#include <avr/io.h>
#include <avr/interrupt.h>
#include <avr/pgmspace.h>

#define SINE_LENGTH 1023

const uint16_t sinewave[] PROGMEM= 
{
0x80C, 
0x819, 
0x825, 
0x832, 
0x83E, 
0x84B, 
0x857, 
0x864, 
0x871, 
0x87D, 
0x88A, 
0x896, 
0x8A3, 
0x8AF, 
0x8BC, 
0x8C8, 
0x8D5, 
0x8E1, 
0x8EE, 
0x8FA, 
0x907, 
0x913, 
0x920, 
0x92C, 
0x938, 
0x945, 
0x951, 
0x95E, 
0x96A, 
0x976, 
0x983, 
0x98F, 
0x99B, 
0x9A8, 
0x9B4, 
0x9C0, 
0x9CC, 
0x9D9, 
0x9E5, 
0x9F1, 
0x9FD, 
0xA09, 
0xA16, 
0xA22, 
0xA2E, 
0xA3A, 
0xA46, 
0xA52, 
0xA5E, 
0xA6A, 
0xA76, 
0xA82, 
0xA8E, 
0xA9A, 
0xAA6, 
0xAB1, 
0xABD, 
0xAC9, 
0xAD5, 
0xAE1, 
0xAEC, 
0xAF8, 
0xB04, 
0xB0F, 
0xB1B, 
0xB26, 
0xB32, 
0xB3D, 
0xB49, 
0xB54, 
0xB60, 
0xB6B, 
0xB76, 
0xB82, 
0xB8D, 
0xB98, 
0xBA4, 
0xBAF, 
0xBBA, 
0xBC5, 
0xBD0, 
0xBDB, 
0xBE6, 
0xBF1, 
0xBFC, 
0xC07, 
0xC12, 
0xC1C, 
0xC27, 
0xC32, 
0xC3D, 
0xC47, 
0xC52, 
0xC5C, 
0xC67, 
0xC71, 
0xC7C, 
0xC86, 
0xC90, 
0xC9B, 
0xCA5, 
0xCAF, 
0xCB9, 
0xCC3, 
0xCCE, 
0xCD8, 
0xCE2, 
0xCEB, 
0xCF5, 
0xCFF, 
0xD09, 
0xD13, 
0xD1C, 
0xD26, 
0xD30, 
0xD39, 
0xD43, 
0xD4C, 
0xD56, 
0xD5F, 
0xD68, 
0xD71, 
0xD7B, 
0xD84, 
0xD8D, 
0xD96, 
0xD9F, 
0xDA8, 
0xDB1, 
0xDB9, 
0xDC2, 
0xDCB, 
0xDD3, 
0xDDC, 
0xDE5, 
0xDED, 
0xDF5, 
0xDFE, 
0xE06, 
0xE0E, 
0xE16, 
0xE1F, 
0xE27, 
0xE2F, 
0xE37, 
0xE3E, 
0xE46, 
0xE4E, 
0xE56, 
0xE5D, 
0xE65, 
0xE6C, 
0xE74, 
0xE7B, 
0xE83, 
0xE8A, 
0xE91, 
0xE98, 
0xE9F, 
0xEA6, 
0xEAD, 
0xEB4, 
0xEBB, 
0xEC2, 
0xEC8, 
0xECF, 
0xED6, 
0xEDC, 
0xEE3, 
0xEE9, 
0xEEF, 
0xEF5, 
0xEFC, 
0xF02, 
0xF08, 
0xF0E, 
0xF14, 
0xF19, 
0xF1F, 
0xF25, 
0xF2A, 
0xF30, 
0xF35, 
0xF3B, 
0xF40, 
0xF45, 
0xF4B, 
0xF50, 
0xF55, 
0xF5A, 
0xF5F, 
0xF64, 
0xF68, 
0xF6D, 
0xF72, 
0xF76, 
0xF7B, 
0xF7F, 
0xF84, 
0xF88, 
0xF8C, 
0xF90, 
0xF94, 
0xF98, 
0xF9C, 
0xFA0, 
0xFA4, 
0xFA7, 
0xFAB, 
0xFAE, 
0xFB2, 
0xFB5, 
0xFB9, 
0xFBC, 
0xFBF, 
0xFC2, 
0xFC5, 
0xFC8, 
0xFCB, 
0xFCE, 
0xFD0, 
0xFD3, 
0xFD6, 
0xFD8, 
0xFDB, 
0xFDD, 
0xFDF, 
0xFE1, 
0xFE3, 
0xFE5, 
0xFE7, 
0xFE9, 
0xFEB, 
0xFED, 
0xFEF, 
0xFF0, 
0xFF2, 
0xFF3, 
0xFF4, 
0xFF6, 
0xFF7, 
0xFF8, 
0xFF9, 
0xFFA, 
0xFFB, 
0xFFC, 
0xFFC, 
0xFFD, 
0xFFE, 
0xFFE, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFF, 
0xFFE, 
0xFFE, 
0xFFD, 
0xFFC, 
0xFFC, 
0xFFB, 
0xFFA, 
0xFF9, 
0xFF8, 
0xFF7, 
0xFF6, 
0xFF4, 
0xFF3, 
0xFF2, 
0xFF0, 
0xFEF, 
0xFED, 
0xFEB, 
0xFE9, 
0xFE7, 
0xFE5, 
0xFE3, 
0xFE1, 
0xFDF, 
0xFDD, 
0xFDB, 
0xFD8, 
0xFD6, 
0xFD3, 
0xFD0, 
0xFCE, 
0xFCB, 
0xFC8, 
0xFC5, 
0xFC2, 
0xFBF, 
0xFBC, 
0xFB9, 
0xFB5, 
0xFB2, 
0xFAE, 
0xFAB, 
0xFA7, 
0xFA4, 
0xFA0, 
0xF9C, 
0xF98, 
0xF94, 
0xF90, 
0xF8C, 
0xF88, 
0xF84, 
0xF7F, 
0xF7B, 
0xF76, 
0xF72, 
0xF6D, 
0xF68, 
0xF64, 
0xF5F, 
0xF5A, 
0xF55, 
0xF50, 
0xF4B, 
0xF45, 
0xF40, 
0xF3B, 
0xF35, 
0xF30, 
0xF2A, 
0xF25, 
0xF1F, 
0xF19, 
0xF14, 
0xF0E, 
0xF08, 
0xF02, 
0xEFC, 
0xEF5, 
0xEEF, 
0xEE9, 
0xEE3, 
0xEDC, 
0xED6, 
0xECF, 
0xEC8, 
0xEC2, 
0xEBB, 
0xEB4, 
0xEAD, 
0xEA6, 
0xE9F, 
0xE98, 
0xE91, 
0xE8A, 
0xE83, 
0xE7B, 
0xE74, 
0xE6C, 
0xE65, 
0xE5D, 
0xE56, 
0xE4E, 
0xE46, 
0xE3E, 
0xE37, 
0xE2F, 
0xE27, 
0xE1F, 
0xE16, 
0xE0E, 
0xE06, 
0xDFE, 
0xDF5, 
0xDED, 
0xDE5, 
0xDDC, 
0xDD3, 
0xDCB, 
0xDC2, 
0xDB9, 
0xDB1, 
0xDA8, 
0xD9F, 
0xD96, 
0xD8D, 
0xD84, 
0xD7B, 
0xD71, 
0xD68, 
0xD5F, 
0xD56, 
0xD4C, 
0xD43, 
0xD39, 
0xD30, 
0xD26, 
0xD1C, 
0xD13, 
0xD09, 
0xCFF, 
0xCF5, 
0xCEB, 
0xCE2, 
0xCD8, 
0xCCE, 
0xCC3, 
0xCB9, 
0xCAF, 
0xCA5, 
0xC9B, 
0xC90, 
0xC86, 
0xC7C, 
0xC71, 
0xC67, 
0xC5C, 
0xC52, 
0xC47, 
0xC3D, 
0xC32, 
0xC27, 
0xC1C, 
0xC12, 
0xC07, 
0xBFC, 
0xBF1, 
0xBE6, 
0xBDB, 
0xBD0, 
0xBC5, 
0xBBA, 
0xBAF, 
0xBA4, 
0xB98, 
0xB8D, 
0xB82, 
0xB76, 
0xB6B, 
0xB60, 
0xB54, 
0xB49, 
0xB3D, 
0xB32, 
0xB26, 
0xB1B, 
0xB0F, 
0xB04, 
0xAF8, 
0xAEC, 
0xAE1, 
0xAD5, 
0xAC9, 
0xABD, 
0xAB1, 
0xAA6, 
0xA9A, 
0xA8E, 
0xA82, 
0xA76, 
0xA6A, 
0xA5E, 
0xA52, 
0xA46, 
0xA3A, 
0xA2E, 
0xA22, 
0xA16, 
0xA09, 
0x9FD, 
0x9F1, 
0x9E5, 
0x9D9, 
0x9CC, 
0x9C0, 
0x9B4, 
0x9A8, 
0x99B, 
0x98F, 
0x983, 
0x976, 
0x96A, 
0x95E, 
0x951, 
0x945, 
0x938, 
0x92C, 
0x920, 
0x913, 
0x907, 
0x8FA, 
0x8EE, 
0x8E1, 
0x8D5, 
0x8C8, 
0x8BC, 
0x8AF, 
0x8A3, 
0x896, 
0x88A, 
0x87D, 
0x871, 
0x864, 
0x857, 
0x84B, 
0x83E, 
0x832, 
0x825, 
0x819, 
0x80C, 
0x800, 
0x7F3, 
0x7E6, 
0x7DA, 
0x7CD, 
0x7C1, 
0x7B4, 
0x7A8, 
0x79B, 
0x78E, 
0x782, 
0x775, 
0x769, 
0x75C, 
0x750, 
0x743, 
0x737, 
0x72A, 
0x71E, 
0x711, 
0x705, 
0x6F8, 
0x6EC, 
0x6DF, 
0x6D3, 
0x6C7, 
0x6BA, 
0x6AE, 
0x6A1, 
0x695, 
0x689, 
0x67C, 
0x670, 
0x664, 
0x657, 
0x64B, 
0x63F, 
0x633, 
0x626, 
0x61A, 
0x60E, 
0x602, 
0x5F6, 
0x5E9, 
0x5DD, 
0x5D1, 
0x5C5, 
0x5B9, 
0x5AD, 
0x5A1, 
0x595, 
0x589, 
0x57D, 
0x571, 
0x565, 
0x559, 
0x54E, 
0x542, 
0x536, 
0x52A, 
0x51E, 
0x513, 
0x507, 
0x4FB, 
0x4F0, 
0x4E4, 
0x4D9, 
0x4CD, 
0x4C2, 
0x4B6, 
0x4AB, 
0x49F, 
0x494, 
0x489, 
0x47D, 
0x472, 
0x467, 
0x45B, 
0x450, 
0x445, 
0x43A, 
0x42F, 
0x424, 
0x419, 
0x40E, 
0x403, 
0x3F8, 
0x3ED, 
0x3E3, 
0x3D8, 
0x3CD, 
0x3C2, 
0x3B8, 
0x3AD, 
0x3A3, 
0x398, 
0x38E, 
0x383, 
0x379, 
0x36F, 
0x364, 
0x35A, 
0x350, 
0x346, 
0x33C, 
0x331, 
0x327, 
0x31D, 
0x314, 
0x30A, 
0x300, 
0x2F6, 
0x2EC, 
0x2E3, 
0x2D9, 
0x2CF, 
0x2C6, 
0x2BC, 
0x2B3, 
0x2A9, 
0x2A0, 
0x297, 
0x28E, 
0x284, 
0x27B, 
0x272, 
0x269, 
0x260, 
0x257, 
0x24E, 
0x246, 
0x23D, 
0x234, 
0x22C, 
0x223, 
0x21A, 
0x212, 
0x20A, 
0x201, 
0x1F9, 
0x1F1, 
0x1E9, 
0x1E0, 
0x1D8, 
0x1D0, 
0x1C8, 
0x1C1, 
0x1B9, 
0x1B1, 
0x1A9, 
0x1A2, 
0x19A, 
0x193, 
0x18B, 
0x184, 
0x17C, 
0x175, 
0x16E, 
0x167, 
0x160, 
0x159, 
0x152, 
0x14B, 
0x144, 
0x13D, 
0x137, 
0x130, 
0x129, 
0x123, 
0x11C, 
0x116, 
0x110, 
0x10A, 
0x103, 
0xFD, 
0xF7, 
0xF1, 
0xEB, 
0xE6, 
0xE0, 
0xDA, 
0xD5, 
0xCF, 
0xCA, 
0xC4, 
0xBF, 
0xBA, 
0xB4, 
0xAF, 
0xAA, 
0xA5, 
0xA0, 
0x9B, 
0x97, 
0x92, 
0x8D, 
0x89, 
0x84, 
0x80, 
0x7B, 
0x77, 
0x73, 
0x6F, 
0x6B, 
0x67, 
0x63, 
0x5F, 
0x5B, 
0x58, 
0x54, 
0x51, 
0x4D, 
0x4A, 
0x46, 
0x43, 
0x40, 
0x3D, 
0x3A, 
0x37, 
0x34, 
0x31, 
0x2F, 
0x2C, 
0x29, 
0x27, 
0x24, 
0x22, 
0x20, 
0x1E, 
0x1C, 
0x1A, 
0x18, 
0x16, 
0x14, 
0x12, 
0x10, 
0xF, 
0xD, 
0xC, 
0xB, 
0x9, 
0x8, 
0x7, 
0x6, 
0x5, 
0x4, 
0x3, 
0x3, 
0x2, 
0x1, 
0x1, 
0x0, 
0x0, 
0x0, 
0x0, 
0x0, 
0x0, 
0x0, 
0x0, 
0x0, 
0x0, 
0x0, 
0x1, 
0x1, 
0x2, 
0x3, 
0x3, 
0x4, 
0x5, 
0x6, 
0x7, 
0x8, 
0x9, 
0xB, 
0xC, 
0xD, 
0xF, 
0x10, 
0x12, 
0x14, 
0x16, 
0x18, 
0x1A, 
0x1C, 
0x1E, 
0x20, 
0x22, 
0x24, 
0x27, 
0x29, 
0x2C, 
0x2F, 
0x31, 
0x34, 
0x37, 
0x3A, 
0x3D, 
0x40, 
0x43, 
0x46, 
0x4A, 
0x4D, 
0x51, 
0x54, 
0x58, 
0x5B, 
0x5F, 
0x63, 
0x67, 
0x6B, 
0x6F, 
0x73, 
0x77, 
0x7B, 
0x80, 
0x84, 
0x89, 
0x8D, 
0x92, 
0x97, 
0x9B, 
0xA0, 
0xA5, 
0xAA, 
0xAF, 
0xB4, 
0xBA, 
0xBF, 
0xC4, 
0xCA, 
0xCF, 
0xD5, 
0xDA, 
0xE0, 
0xE6, 
0xEB, 
0xF1, 
0xF7, 
0xFD, 
0x103, 
0x10A, 
0x110, 
0x116, 
0x11C, 
0x123, 
0x129, 
0x130, 
0x137, 
0x13D, 
0x144, 
0x14B, 
0x152, 
0x159, 
0x160, 
0x167, 
0x16E, 
0x175, 
0x17C, 
0x184, 
0x18B, 
0x193, 
0x19A, 
0x1A2, 
0x1A9, 
0x1B1, 
0x1B9, 
0x1C1, 
0x1C8, 
0x1D0, 
0x1D8, 
0x1E0, 
0x1E9, 
0x1F1, 
0x1F9, 
0x201, 
0x20A, 
0x212, 
0x21A, 
0x223, 
0x22C, 
0x234, 
0x23D, 
0x246, 
0x24E, 
0x257, 
0x260, 
0x269, 
0x272, 
0x27B, 
0x284, 
0x28E, 
0x297, 
0x2A0, 
0x2A9, 
0x2B3, 
0x2BC, 
0x2C6, 
0x2CF, 
0x2D9, 
0x2E3, 
0x2EC, 
0x2F6, 
0x300, 
0x30A, 
0x314, 
0x31D, 
0x327, 
0x331, 
0x33C, 
0x346, 
0x350, 
0x35A, 
0x364, 
0x36F, 
0x379, 
0x383, 
0x38E, 
0x398, 
0x3A3, 
0x3AD, 
0x3B8, 
0x3C2, 
0x3CD, 
0x3D8, 
0x3E3, 
0x3ED, 
0x3F8, 
0x403, 
0x40E, 
0x419, 
0x424, 
0x42F, 
0x43A, 
0x445, 
0x450, 
0x45B, 
0x467, 
0x472, 
0x47D, 
0x489, 
0x494, 
0x49F, 
0x4AB, 
0x4B6, 
0x4C2, 
0x4CD, 
0x4D9, 
0x4E4, 
0x4F0, 
0x4FB, 
0x507, 
0x513, 
0x51E, 
0x52A, 
0x536, 
0x542, 
0x54E, 
0x559, 
0x565, 
0x571, 
0x57D, 
0x589, 
0x595, 
0x5A1, 
0x5AD, 
0x5B9, 
0x5C5, 
0x5D1, 
0x5DD, 
0x5E9, 
0x5F6, 
0x602, 
0x60E, 
0x61A, 
0x626, 
0x633, 
0x63F, 
0x64B, 
0x657, 
0x664, 
0x670, 
0x67C, 
0x689, 
0x695, 
0x6A1, 
0x6AE, 
0x6BA, 
0x6C7, 
0x6D3, 
0x6DF, 
0x6EC, 
0x6F8, 
0x705, 
0x711, 
0x71E, 
0x72A, 
0x737, 
0x743, 
0x750, 
0x75C, 
0x769, 
0x775, 
0x782, 
0x78E, 
0x79B, 
0x7A8, 
0x7B4, 
0x7C1, 
0x7CD, 
0x7DA, 
0x7E6, 
0x7F3, 
0x7FF
};